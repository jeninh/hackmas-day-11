---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';

// Import the FormattedDate component
import FormattedDate from '../components/FormattedDate.astro';

// Get the blog post data from props
type Props = CollectionEntry<'blog'>['data'];
const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---
<div class="post-page">
    <article class="post">
        <!-- Header with prost data -->
        <header>
            <h1>{title}</h1>
            <p class="description">{description}</p>
            {heroImage && (
                <Image src={heroImage} format="webp" alt={title} class="hero" />
            )}
            <p class="date">
                <FormattedDate date={pubDate} />
            </p>
            {updatedDate && (
                <p class="updated">
                    Last updated on <FormattedDate date={updatedDate} />
                </p>
            )}
        </header>
        <!-- The post's content will be rendered in the slot tag -->
        <div class="body">
            <slot />
        </div>
    </article>
</div>

<!-- Example CSS styling -->
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f4f0ff 0%;
        color: #2a2a2a;
    }

    header {
        padding-bottom: 16px;
        border-bottom: 3px solid #6a6a7a;
        text-align: center;
    }

    .post-page {
        min-height: 100vh;
        display: flex;
        justify-content: center;
    }

    .post {
        max-width: 920px;
        width: 100%;
        padding: 32px 24px 40px;
        color: inherit;
    }

    h1 {
        margin: 0 0 12px;
        font-size: 2.4rem;
        color: #322a53;
        letter-spacing: -0.02em;
    }

    .description {
        margin: 0 0 20px;
        font-size: 1.1rem;
        color: #4a4761;
    }

    .hero {
        width: 100%;
        max-height: 460px;
        object-fit: cover;
        margin: 20px 0 10px;
        border-radius: 14px;
    }

    .date,
    .updated {
        margin: 6px 0;
        color: #6a6a7a;
        font-weight: 600;
        letter-spacing: 0.01em;
    }

    .body {
        line-height: 1.7;
        color: #2f2f39;
        padding: 12px 32px;
    }
</style>
